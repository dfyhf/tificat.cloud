<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>ScaleSelector</title>
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, viewport-fit=cover"
    />
    <style>
      :root {
        --font-stack: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
          Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji",
          "Segoe UI Symbol";
      }
      html,
      body {
        height: 100%;
        margin: 0;
        padding: 0;
        background: #ffffff;
        color: #000000;
        font-family: var(--font-stack);
      }
      .wrap {
        min-height: 100%;
        display: grid;
        grid-template-rows: 1fr auto 1fr;
        align-items: center;
        justify-items: center;
        gap: 24px;
      }
      .output {
        grid-row: 2;
        font-size: clamp(32px, 6vw, 80px);
        font-weight: 700;
        text-align: center;
        color: #000000;
        line-height: 1.1;
        min-height: 1.2em; /* reserve space so layout doesn't jump */
      }
      .button-wrap {
        grid-row: 3;
      }
      .btn {
        border: none;
        background: transparent;
        padding: 0;
        cursor: pointer;
      }
      .btn img {
        display: block;
        width: min(260px, 40vw);
        height: auto;
      }
      /* Basic keyboard-focus outline for accessibility */
      .btn:focus-visible {
        outline: 3px solid #000;
        outline-offset: 6px;
        border-radius: 8px;
      }
      /* Space above button is naturally the area containing .output */
    </style>
  </head>
  <body>
    <div class="wrap">
      <div class="output" id="output" aria-live="polite" aria-atomic="true">
        <!-- Random scale appears here -->
      </div>

      <div class="button-wrap">
        <button class="btn" id="rollBtn" aria-label="Get a random scale">
          <img src="button.png" alt="Generate Scale" />
        </button>
      </div>
    </div>

    <script>
      // Predefined options
      const NOTES = ["A", "B", "C", "D", "E", "F", "G"];
      const MODES = [
        "Ionian",
        "Dorian",
        "Phrygian",
        "Lydian",
        "Myxolydian",
        "Aeolian",
        "Locrian",
      ];

      // Utility to get a random item from an array
      function randomChoice(arr) {
        return arr[Math.floor(Math.random() * arr.length)];
      }

      // Generate a random scale label like "C — Dorian"
      function generateScale() {
        const note = randomChoice(NOTES);
        const mode = randomChoice(MODES);
        return note + " — " + mode;
      }

      // Update the display once
      function refresh() {
        const out = document.getElementById("output");
        out.textContent = generateScale();
      }

      // Wire up button
      document.getElementById("rollBtn").addEventListener("click", refresh);

      // Initial value shown on page load
      refresh();
    </script>
  </body>
</html>
